description: 'Testing verbs for topology: show summarize'
tests:
- command: topology show --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "ifname": "eth1", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn": 65000.0,
    "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit01", "ifname": "eth1", "vrf": "default",
    "lldp": true, "asn": 65530.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit02", "ifname": "eth2", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn":
    65000.0, "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "ifname": "eth2", "vrf": "default",
    "lldp": true, "asn": 65530.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "edge01", "ifname": "swp5", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65530.0, "bgp": true, "area": "", "ospf": "",
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "asn": 65001.0,
    "peerAsn": 25253.0, "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf02", "peerHostname": "leaf01", "ifname": "swp3",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02",
    "peerHostname": "leaf01", "ifname": "swp4", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "asn": 65001.0,
    "peerAsn": 25253.0, "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04", "ifname": "swp4",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03",
    "peerHostname": "leaf04", "ifname": "swp3", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01", "ifname": "swp5",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65530.0, "bgp": true,
    "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf03", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03",
    "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname": "exit01",
    "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 25253.0, "peerAsn": 65001.0,
    "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "leaf03", "ifname": "swp3", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf04", "ifname": "swp4", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "exit01", "ifname": "swp6", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet",
    "peerHostname": "exit02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn":
    25253.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf": "", "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf01", "ifname":
    "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp":
    true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "leaf02", "ifname": "swp2", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01",
    "peerHostname": "leaf02", "ifname": "swp4", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02", "ifname": "swp3",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01",
    "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf04", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04",
    "peerHostname": "leaf03", "ifname": "swp3", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf04", "peerHostname": "leaf03", "ifname": "swp4",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04",
    "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp":
    "", "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf03",
    "ifname": "swp3", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf04", "ifname": "swp4", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "exit01", "ifname": "swp6", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "edge01",
    "ifname": "", "vrf": "internet-vrf", "lldp": "", "asn": 65001.0, "peerAsn": 65530.0,
    "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit01", "peerHostname": "edge01", "ifname": "", "vrf": "evpn-vrf",
    "lldp": "", "asn": 65000.0, "peerAsn": 65530.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "edge01", "ifname": "", "vrf": "evpn-vrf", "lldp": "", "asn": 65000.0, "peerAsn":
    65530.0, "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "edge01", "ifname": "", "vrf": "internet-vrf",
    "lldp": "", "asn": 65001.0, "peerAsn": 65530.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}]'
- command: topology show --via=lldp --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "ifname": "eth1", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit02", "ifname": "eth2",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "edge01", "ifname":
    "swp5", "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit01", "peerHostname": "internet", "ifname": "swp6", "vrf": "internet-vrf",
    "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02",
    "peerHostname": "leaf01", "ifname": "swp3", "vrf": "default", "lldp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine01", "ifname": "swp1",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "leaf01", "ifname": "swp4", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04", "ifname":
    "swp4", "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "edge01", "ifname": "swp5", "vrf": "default",
    "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02",
    "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04", "ifname": "swp3",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf03", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname": "exit01", "ifname":
    "swp1", "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "leaf03", "ifname": "swp3", "vrf": "default",
    "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf04", "ifname": "swp4", "vrf": "default", "lldp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit01", "ifname": "swp6",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "internet", "peerHostname": "exit02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "leaf02", "ifname": "swp4", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "swp3", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "leaf03", "ifname":
    "swp3", "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf04", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default",
    "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04",
    "peerHostname": "leaf03", "ifname": "swp4", "vrf": "default", "lldp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01", "ifname": "swp1",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "leaf02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf04", "ifname": "swp4",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "exit01", "ifname": "swp6", "vrf": "default", "lldp":
    true, "polled": true}]'
- command: topology show --via='lldp bgp' --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "ifname": "eth1", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn": 65000.0,
    "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01",
    "peerHostname": "exit01", "ifname": "eth1", "vrf": "default", "lldp": true, "asn":
    65530.0, "peerAsn": 65001.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "ifname": "eth2", "vrf": "default",
    "lldp": true, "asn": 65530.0, "peerAsn": 65000.0, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit02", "ifname":
    "eth2", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn": 65001.0, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit01", "peerHostname": "edge01", "ifname": "swp5",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65530.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "asn": 65001.0,
    "peerAsn": 25253.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "leaf01", "ifname": "swp3", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf02", "peerHostname": "leaf01", "ifname": "swp4", "vrf": "default",
    "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "internet", "ifname": "swp6", "vrf": "internet-vrf",
    "lldp": true, "asn": 65001.0, "peerAsn": 25253.0, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04", "ifname":
    "swp4", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04",
    "ifname": "swp3", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "edge01", "ifname": "swp5", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65530.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine01", "ifname":
    "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "internet", "peerHostname": "exit01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 25253.0, "peerAsn": 65001.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf03", "ifname": "swp3",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "exit02", "ifname": "swp5", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit01", "ifname": "swp6",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn": 25253.0, "peerAsn":
    65001.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "leaf01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "swp4", "vrf": "default", "lldp": true, "asn": "", "peerAsn":
    "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01",
    "peerHostname": "leaf02", "ifname": "swp3", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine01", "ifname": "swp1",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf04", "peerHostname": "leaf03", "ifname": "swp3", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf04", "peerHostname": "leaf03", "ifname": "swp4", "vrf": "default",
    "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "lldp": true, "asn": "", "peerAsn":
    "", "bgp": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf02", "ifname": "swp2", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf03", "ifname":
    "swp3", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "exit01", "ifname": "swp6", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit01", "peerHostname": "edge01", "ifname": "", "vrf":
    "internet-vrf", "lldp": "", "asn": 65001.0, "peerAsn": 65530.0, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "edge01",
    "ifname": "", "vrf": "evpn-vrf", "lldp": "", "asn": 65000.0, "peerAsn": 65530.0,
    "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02",
    "peerHostname": "edge01", "ifname": "", "vrf": "evpn-vrf", "lldp": "", "asn":
    65000.0, "peerAsn": 65530.0, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "edge01", "ifname": "", "vrf": "internet-vrf",
    "lldp": "", "asn": 65001.0, "peerAsn": 65530.0, "bgp": true, "polled": true}]'
- command: topology show --via=lldp --via=bgp --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "vrf": "default", "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01", "vrf":
    "default", "asn": 65530, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit02", "vrf": "default",
    "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "vrf": "default", "asn": 65530,
    "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "internet", "vrf": "internet-vrf", "asn": 65001, "peerAsn":
    25253, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 65530,
    "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "evpn-vrf", "asn": 65000, "peerAsn": 65530, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "vrf": "default", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf03", "peerHostname": "spine01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "spine02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02",
    "peerHostname": "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 25253, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01",
    "vrf": "evpn-vrf", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01", "vrf":
    "default", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01", "vrf": "internet-vrf",
    "asn": 65001, "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "exit01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "exit02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname": "exit02", "vrf":
    "default", "asn": 25253, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf01", "peerHostname": "spine01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "internet", "peerHostname": "exit01", "vrf": "default", "asn": 25253, "peerAsn":
    65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine02", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine01",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf02", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf04", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}]'
- command: topology show --via=bgp --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "vrf": "default", "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01", "vrf":
    "default", "asn": 65530, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit02", "vrf": "default",
    "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "vrf": "default", "asn": 65530,
    "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "internet", "vrf": "internet-vrf", "asn": 65001, "peerAsn":
    25253, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 65530,
    "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "evpn-vrf", "asn": 65000, "peerAsn": 65530, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "vrf": "default", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf03", "peerHostname": "spine01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "spine02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02",
    "peerHostname": "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 25253, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01",
    "vrf": "evpn-vrf", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01", "vrf":
    "default", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01", "vrf": "internet-vrf",
    "asn": 65001, "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "exit01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "exit02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname": "exit02", "vrf":
    "default", "asn": 25253, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf01", "peerHostname": "spine01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "internet", "peerHostname": "exit01", "vrf": "default", "asn": 25253, "peerAsn":
    65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01",
    "peerHostname": "leaf01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine02", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine01",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf02", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf04", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}]'
- command: topology show --via=ospf --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf04",
    "ifname": "swp4", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf03",
    "ifname": "swp3", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit01",
    "ifname": "swp6", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf04",
    "ifname": "swp4", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf03",
    "ifname": "swp3", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit01",
    "ifname": "swp6", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}]'
- command: topology show --via=arpnd --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01",
    "ifname": "swp5.3", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01",
    "ifname": "swp5.4", "vrf": "internet-vrf", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "edge01", "ifname": "swp5.2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "leaf02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "leaf01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "leaf03", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "leaf04", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server103", "peerHostname":
    "server101", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "server103", "ifname": "bond01", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf03", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf03", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf03", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "server101", "ifname": "vlan13", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf03", "ifname": "bridge", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf04", "ifname": "bridge", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "exit02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "exit01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "server102", "ifname": "vlan24", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "server104", "ifname": "bond02", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "server103", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server101", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf04", "ifname": "peerlink", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf04", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf04", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf04", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "exit01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "leaf01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "exit02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "leaf03", "ifname": "peerlink.4094", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "server104", "ifname": "bond02", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "server102", "ifname": "vlan24", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "server101", "ifname": "vlan13", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "server103", "ifname": "bond01", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "server102", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server104", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "exit02", "ifname": "swp5", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf04", "ifname": "swp4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "internet", "ifname": "swp6", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "peerlink.4094", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "server103", "ifname": "vlan13", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "server101", "ifname": "bond01", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "exit01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "exit02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf03", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf04", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf02", "ifname": "bridge", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "leaf01", "ifname": "bridge", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "server102", "ifname": "bond02", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "server104", "ifname": "vlan24", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "leaf03", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "leaf04", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "leaf02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "leaf01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit02", "ifname": "eth2.3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit02", "ifname": "eth2.2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit02", "ifname": "eth2.4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit01", "ifname": "eth1.3", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit01", "ifname": "eth1.4", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit01", "ifname": "eth1.2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "ifname": "swp5.4", "vrf": "internet-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "ifname": "swp5.3", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "ifname": "swp5.2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf01", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf01", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf01", "ifname": "peerlink", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf01", "ifname": "peerlink", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "server101", "ifname": "bond01", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "server103", "ifname": "vlan13", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf03", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf04", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "exit01", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "exit02", "ifname": "vlan4001", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "spine02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "server104", "ifname": "vlan24", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "server102", "ifname": "bond02", "vrf": "evpn-vrf", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf03", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf04", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf02", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "server104", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "server102", "peerHostname":
    "leaf01", "ifname": "bond0", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit01", "ifname": "swp1", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname":
    "exit02", "ifname": "swp2", "vrf": "default", "arpndBidir": true, "arpnd": true,
    "polled": true}]'
- command: topology show --hostname=leaf01 --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02",
    "ifname": "swp4", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp":
    "", "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "leaf02", "ifname": "swp3", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "ifname":
    "swp2", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp":
    true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf01", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}]'
- command: topology show --hostname=leaf01 --via=lldp --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02",
    "ifname": "swp4", "vrf": "default", "lldp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02", "ifname": "swp3",
    "vrf": "default", "lldp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "spine02", "ifname": "swp2", "vrf": "default", "lldp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "polled": true}]'
- command: topology show --hostname=leaf01 --ifname=swp2 --via=lldp --namespace='ospf-ibgp'
    --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "lldp": true, "polled": true}]'
- command: topology show --hostname=leaf01 --polled=True --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02",
    "ifname": "swp4", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp":
    "", "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "leaf02", "ifname": "swp3", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "ifname":
    "swp2", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp":
    true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf01", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}]'
- command: topology show --hostname=leaf01 --polled=False --namespace='ospf-ibgp'
    --format=json
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[]'
- command: topology summarize --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"ospf-ibgp": {"bgp_center": ["spine01"], "bgp_degree_histogram": "...",
    "bgp_is_fully_connected": true, "bgp_number_of_disjoint_sets": 1, "bgp_number_of_edges":
    15, "bgp_number_of_nodes": 10, "bgp_self_loops": [], "lldp_center": ["spine01",
    "spine02"], "lldp_degree_histogram": "...", "lldp_is_fully_connected": true, "lldp_number_of_disjoint_sets":
    1, "lldp_number_of_edges": 18, "lldp_number_of_nodes": 10, "lldp_self_loops":
    [], "ospf_center": ["spine01", "spine02"], "ospf_degree_histogram": "...", "ospf_is_fully_connected":
    true, "ospf_number_of_disjoint_sets": 1, "ospf_number_of_edges": 12, "ospf_number_of_nodes":
    8, "ospf_self_loops": []}}'
- command: topology unique --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"hostname": "edge01"}, {"hostname": "exit01"}, {"hostname": "exit02"},
    {"hostname": "internet"}, {"hostname": "leaf01"}, {"hostname": "leaf02"}, {"hostname":
    "leaf03"}, {"hostname": "leaf04"}, {"hostname": "spine01"}, {"hostname": "spine02"}]'
- command: topology unique --count=True --namespace='ospf-ibgp' --format=json
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"hostname": "internet", "numRows": 2}, {"hostname": "edge01", "numRows":
    4}, {"hostname": "leaf01", "numRows": 4}, {"hostname": "leaf02", "numRows": 4},
    {"hostname": "leaf03", "numRows": 4}, {"hostname": "leaf04", "numRows": 4}, {"hostname":
    "exit01", "numRows": 6}, {"hostname": "exit02", "numRows": 6}, {"hostname": "spine01",
    "numRows": 6}, {"hostname": "spine02", "numRows": 6}]'
- command: topology show --vrf=default --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "ifname": "eth1", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn": 65000.0,
    "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit01", "ifname": "eth1", "vrf": "default",
    "lldp": true, "asn": 65530.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname":
    "exit02", "ifname": "eth2", "vrf": "default", "lldp": true, "asn": 65530.0, "peerAsn":
    65000.0, "bgp": true, "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "ifname": "eth2", "vrf": "default",
    "lldp": true, "asn": 65530.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf":
    "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "edge01", "ifname": "swp5", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65530.0, "bgp": true, "area": "", "ospf": "",
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname":
    "leaf01", "ifname": "swp3", "vrf": "default", "lldp": true, "asn": "", "peerAsn":
    "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf02", "peerHostname": "leaf01", "ifname": "swp4", "vrf": "default",
    "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf02", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03",
    "peerHostname": "leaf04", "ifname": "swp4", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "leaf04", "ifname": "swp3",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02",
    "peerHostname": "edge01", "ifname": "swp5", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65530.0, "bgp": true, "area": "", "ospf": "", "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine02", "ifname":
    "swp2", "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area":
    "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "internet", "peerHostname": "exit01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 25253.0, "peerAsn": 65001.0, "bgp": true, "area": "", "ospf": "",
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf03", "ifname": "swp3", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf04", "ifname": "swp4",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "exit02", "ifname": "swp5", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit01", "ifname": "swp6", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "internet", "peerHostname": "exit02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 25253.0, "peerAsn": 65001.0, "bgp": true,
    "area": "", "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "leaf01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "leaf02", "ifname": "swp2", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "leaf02", "ifname": "swp4",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01",
    "peerHostname": "leaf02", "ifname": "swp3", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf01", "peerHostname": "spine01", "ifname": "swp1", "vrf": "default", "lldp":
    true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname":
    "spine01", "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn":
    65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf04", "peerHostname": "leaf03", "ifname": "swp3",
    "vrf": "default", "lldp": true, "asn": "", "peerAsn": "", "bgp": "", "area": "",
    "ospf": "", "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf04",
    "peerHostname": "leaf03", "ifname": "swp4", "vrf": "default", "lldp": true, "asn":
    "", "peerAsn": "", "bgp": "", "area": "", "ospf": "", "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine02", "ifname": "swp2",
    "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true,
    "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "exit02", "ifname": "swp5", "vrf": "default", "lldp":
    true, "asn": "", "peerAsn": "", "bgp": "", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01",
    "ifname": "swp1", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf02", "ifname": "swp2", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf03", "ifname": "swp3", "vrf": "default", "lldp": true, "asn":
    65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf04",
    "ifname": "swp4", "vrf": "default", "lldp": true, "asn": 65000.0, "peerAsn": 65000.0,
    "bgp": true, "area": "0.0.0.0", "ospf": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "exit01", "ifname": "swp6", "vrf": "default",
    "lldp": true, "asn": 65000.0, "peerAsn": 65000.0, "bgp": true, "area": "0.0.0.0",
    "ospf": true, "polled": true}]'
- command: topology show --vrf=internet-vrf --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "internet",
    "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "asn": 65001.0, "peerAsn":
    25253.0, "bgp": true, "ospf": false, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "internet", "ifname": "swp6", "vrf": "internet-vrf",
    "lldp": true, "asn": 65001.0, "peerAsn": 25253.0, "bgp": true, "ospf": false,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "ifname": "", "vrf": "internet-vrf", "lldp": "", "asn": 65001.0, "peerAsn":
    65530.0, "bgp": true, "ospf": false, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "edge01", "ifname": "", "vrf": "internet-vrf",
    "lldp": "", "asn": 65001.0, "peerAsn": 65530.0, "bgp": true, "ospf": false, "polled":
    true}]'
- command: topology show --vrf='internet-vrf evpn-vrf' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "internet",
    "ifname": "swp6", "vrf": "internet-vrf", "lldp": true, "asn": 65001.0, "peerAsn":
    25253.0, "bgp": true, "ospf": false, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "internet", "ifname": "swp6", "vrf": "internet-vrf",
    "lldp": true, "asn": 65001.0, "peerAsn": 25253.0, "bgp": true, "ospf": false,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "ifname": "", "vrf": "internet-vrf", "lldp": "", "asn": 65001.0, "peerAsn":
    65530.0, "bgp": true, "ospf": false, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit01", "peerHostname": "edge01", "ifname": "", "vrf": "evpn-vrf",
    "lldp": "", "asn": 65000.0, "peerAsn": 65530.0, "bgp": true, "ospf": false, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "edge01",
    "ifname": "", "vrf": "evpn-vrf", "lldp": "", "asn": 65000.0, "peerAsn": 65530.0,
    "bgp": true, "ospf": false, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "edge01", "ifname": "", "vrf": "internet-vrf", "lldp":
    "", "asn": 65001.0, "peerAsn": 65530.0, "bgp": true, "ospf": false, "polled":
    true}]'
- command: topology summarize --vrf='internet-vrf evpn-vrf' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"ospf-ibgp": {"bgp_center": ["exit01", "internet", "edge01", "exit02"],
    "bgp_degree_histogram": [0, 0, 4], "bgp_is_fully_connected": true, "bgp_number_of_disjoint_sets":
    1, "bgp_number_of_edges": 4, "bgp_number_of_nodes": 4, "bgp_self_loops": [], "lldp_center":
    ["internet"], "lldp_degree_histogram": [0, 2, 1], "lldp_is_fully_connected": true,
    "lldp_number_of_disjoint_sets": 1, "lldp_number_of_edges": 2, "lldp_number_of_nodes":
    3, "lldp_self_loops": [], "ospf_center": null, "ospf_degree_histogram": null,
    "ospf_is_fully_connected": null, "ospf_number_of_disjoint_sets": null, "ospf_number_of_edges":
    null, "ospf_number_of_nodes": null, "ospf_self_loops": null}}'
- command: topology summarize --vrf='default' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"ospf-ibgp": {"bgp_center": ["spine01"], "bgp_degree_histogram": "...",
    "bgp_is_fully_connected": true, "bgp_number_of_disjoint_sets": 1, "bgp_number_of_edges":
    15, "bgp_number_of_nodes": 10, "bgp_self_loops": [], "lldp_center": ["spine01",
    "spine02"], "lldp_degree_histogram": "...", "lldp_is_fully_connected": true, "lldp_number_of_disjoint_sets":
    1, "lldp_number_of_edges": 18, "lldp_number_of_nodes": 10, "lldp_self_loops":
    [], "ospf_center": ["spine01", "spine02"], "ospf_degree_histogram": "...", "ospf_is_fully_connected":
    true, "ospf_number_of_disjoint_sets": 1, "ospf_number_of_edges": 12, "ospf_number_of_nodes":
    8, "ospf_self_loops": []}}'
- command: topology unique --vrf='default' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"hostname": "edge01"}, {"hostname": "exit01"}, {"hostname": "exit02"},
    {"hostname": "internet"}, {"hostname": "leaf01"}, {"hostname": "leaf02"}, {"hostname":
    "leaf03"}, {"hostname": "leaf04"}, {"hostname": "spine01"}, {"hostname": "spine02"}]'
- command: topology unique --vrf='default' --format=json --namespace=ospf-ibgp --columns=asn
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"asn": 25253}, {"asn": 65000}, {"asn": 65530}]'
- command: topology unique --vrf='default' --format=json --namespace=ospf-ibgp --columns=area
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"area": "0.0.0.0"}]'
- command: topology unique --vrf='evpn-vrf' --format=json --namespace=ospf-ibgp --columns=asn
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"asn": 65000}]'
- command: topology unique --vrf='evpn-vrf' --format=json --namespace=ospf-ibgp --columns=area
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[]'
- command: topology show --asn=64520 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[]'
- command: topology summarize --asn=64520 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"bgp": {}}'
- command: topology unique --asn=64520 --format=json --namespace=ospf-ibgp --columns=hostname
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[]'
- command: topology summarize --vrf=default --asn=64520 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"bgp": {}}'
- command: topology summarize --vrf=default --via=lldp --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"ospf-ibgp": {"lldp_center": ["spine01", "spine02"], "lldp_degree_histogram":
    "...", "lldp_is_fully_connected": true, "lldp_number_of_disjoint_sets": 1, "lldp_number_of_edges":
    18, "lldp_number_of_nodes": 10, "lldp_self_loops": []}}'
- command: topology unique --vrf=default --via=lldp --format=json --columns=asn --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  error:
    error: '[{"error": "ERROR: Cannot provide any via except bgp with asn"}]'
  marks: topology unique cumulus
- command: topology unique --vrf=evpn-vrf --via=bgp --format=json --columns=asn --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"asn": 65000}]'
- command: topology unique --via=bgp --format=json --columns=asn --namespace=dual-bgp
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"asn": 25253}, {"asn": 65000}, {"asn": 65101}, {"asn": 65102}, {"asn":
    65103}, {"asn": 65104}, {"asn": 65201}, {"asn": 65202}, {"asn": 65530}]'
- command: topology unique --vrf=default --via=bgp --format=json --columns=asn --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology unique cumulus
  output: '[{"asn": 25253}, {"asn": 65000}, {"asn": 65530}]'
- command: topology unique --vrf=evpn-vrf --via=ospf --format=json --columns=area
    --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '[]'
- command: topology summarize --vrf=internet-vrf --asn=64520 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology summarize cumulus
  output: '{"bgp": {}}'
- command: topology show --area=0.0.0.0 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf04",
    "ifname": "swp4", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf03",
    "ifname": "swp3", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit01",
    "ifname": "swp6", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf02", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf04",
    "ifname": "swp4", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf03",
    "ifname": "swp3", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "leaf01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit01",
    "ifname": "swp6", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit02",
    "ifname": "swp5", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine02",
    "ifname": "swp2", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine01",
    "ifname": "swp1", "vrf": "default", "area": "0.0.0.0", "ospf": true, "polled":
    true}]'
- command: topology summarize --area=0.0.0.0 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '{"ospf-ibgp": {"ospf_center": ["spine01", "spine02"], "ospf_degree_histogram":
    "...", "ospf_is_fully_connected": true, "ospf_number_of_disjoint_sets": 1, "ospf_number_of_edges":
    12, "ospf_number_of_nodes": 8, "ospf_self_loops": []}}'
- command: topology show --via=ospf --area=0.0.0.1 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[]'
- command: topology unique --via=ospf --area=0.0.0.0 --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"hostname": "exit01"}, {"hostname": "exit02"}, {"hostname": "leaf01"},
    {"hostname": "leaf02"}, {"hostname": "leaf03"}, {"hostname": "leaf04"}, {"hostname":
    "spine01"}, {"hostname": "spine02"}]'
- command: topology show --afiSafi='ipv4 unicast' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01",
    "vrf": "default", "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit01", "vrf":
    "default", "asn": 65530, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "edge01", "peerHostname": "exit02", "vrf": "default",
    "asn": 65530, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "edge01", "peerHostname": "exit02", "vrf": "default", "asn": 65530,
    "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit01", "peerHostname": "internet", "vrf": "internet-vrf", "asn": 65001, "peerAsn":
    25253, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 65530,
    "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01",
    "peerHostname": "edge01", "vrf": "evpn-vrf", "asn": 65000, "peerAsn": 65530, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname":
    "edge01", "vrf": "default", "asn": 65000, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "exit02", "peerHostname": "internet", "vrf": "internet-vrf",
    "asn": 65001, "peerAsn": 25253, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "exit02", "peerHostname": "edge01", "vrf": "evpn-vrf", "asn": 65000,
    "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "exit02", "peerHostname": "edge01", "vrf": "default", "asn": 65000, "peerAsn":
    65530, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02",
    "peerHostname": "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "edge01", "vrf": "internet-vrf", "asn": 65001, "peerAsn": 65530, "bgp": true,
    "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname":
    "exit01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "internet", "peerHostname": "exit02", "vrf":
    "default", "asn": 25253, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "internet", "peerHostname": "exit01", "vrf": "default",
    "asn": 25253, "peerAsn": 65001, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "exit01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}]'
- command: topology show --afiSafi='l2vpn evpn' --format=json --namespace=ospf-ibgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine02",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "exit01", "peerHostname": "spine01", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf03", "peerHostname": "spine02", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "leaf03", "peerHostname": "spine01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "leaf02", "peerHostname": "spine02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf02",
    "peerHostname": "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "exit02", "peerHostname":
    "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit01",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "exit02", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf03", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine01", "peerHostname": "leaf04", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine01", "peerHostname": "leaf02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01",
    "peerHostname": "spine02", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "leaf01", "peerHostname":
    "spine01", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine01", "peerHostname": "leaf01",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine02", "vrf":
    "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "ospf-ibgp", "hostname": "leaf04", "peerHostname": "spine01", "vrf": "default",
    "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp",
    "hostname": "spine02", "peerHostname": "leaf01", "vrf": "default", "asn": 65000,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname":
    "spine02", "peerHostname": "leaf02", "vrf": "default", "asn": 65000, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02",
    "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname":
    "leaf04", "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "ospf-ibgp", "hostname": "spine02", "peerHostname": "exit01",
    "vrf": "default", "asn": 65000, "peerAsn": 65000, "bgp": true, "polled": true}]'
- command: topology show --afiSafi='l2vpn evpn' --format=json --namespace=dual-bgp
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[]'
- command: topology show --afiSafi='l2vpn evpn' --format=json --namespace=dual-evpn
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "dual-evpn", "hostname": "spine02", "peerHostname": "leaf01",
    "vrf": "default", "asn": 65000, "peerAsn": 65101, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "spine02", "peerHostname": "leaf02", "vrf":
    "default", "asn": 65000, "peerAsn": 65102, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "spine02", "peerHostname": "leaf04", "vrf": "default",
    "asn": 65000, "peerAsn": 65104, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "spine02", "peerHostname": "exit02", "vrf": "default", "asn": 65000,
    "peerAsn": 65202, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "spine02", "peerHostname": "leaf03", "vrf": "default", "asn": 65000, "peerAsn":
    65103, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine02",
    "peerHostname": "exit01", "vrf": "default", "asn": 65000, "peerAsn": 65201, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine01", "peerHostname":
    "leaf02", "vrf": "default", "asn": 65000, "peerAsn": 65102, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "spine01", "peerHostname": "leaf03",
    "vrf": "default", "asn": 65000, "peerAsn": 65103, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "spine01", "peerHostname": "leaf04", "vrf":
    "default", "asn": 65000, "peerAsn": 65104, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "spine01", "peerHostname": "exit02", "vrf": "default",
    "asn": 65000, "peerAsn": 65202, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "spine01", "peerHostname": "exit01", "vrf": "default", "asn": 65000,
    "peerAsn": 65201, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "spine01", "peerHostname": "leaf01", "vrf": "default", "asn": 65000, "peerAsn":
    65101, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "exit01",
    "peerHostname": "spine02", "vrf": "default", "asn": 65201, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "exit01", "peerHostname":
    "spine01", "vrf": "default", "asn": 65201, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname": "spine01",
    "vrf": "default", "asn": 65202, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname": "spine02", "vrf":
    "default", "asn": 65202, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "leaf03", "peerHostname": "spine01", "vrf": "default",
    "asn": 65103, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "leaf03", "peerHostname": "spine02", "vrf": "default", "asn": 65103,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "leaf01", "peerHostname": "spine02", "vrf": "default", "asn": 65101, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "leaf01",
    "peerHostname": "spine01", "vrf": "default", "asn": 65101, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "leaf04", "peerHostname":
    "spine01", "vrf": "default", "asn": 65104, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "leaf04", "peerHostname": "spine02",
    "vrf": "default", "asn": 65104, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "leaf02", "peerHostname": "spine01", "vrf":
    "default", "asn": 65102, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "leaf02", "peerHostname": "spine02", "vrf": "default",
    "asn": 65102, "peerAsn": 65000, "bgp": true, "polled": true}]'
- command: topology show --afiSafi='ipv4 unicast' --format=json --namespace=dual-evpn
  data-directory: tests/data/parquet/
  marks: topology show cumulus
  output: '[{"namespace": "dual-evpn", "hostname": "edge01", "peerHostname": "exit01",
    "vrf": "default", "asn": 65530, "peerAsn": 65201, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "edge01", "peerHostname": "exit02", "vrf":
    "default", "asn": 65530, "peerAsn": 65202, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "spine02", "peerHostname": "leaf02", "vrf": "default",
    "asn": 65000, "peerAsn": 65102, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "spine02", "peerHostname": "leaf03", "vrf": "default", "asn": 65000,
    "peerAsn": 65103, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "spine02", "peerHostname": "leaf04", "vrf": "default", "asn": 65000, "peerAsn":
    65104, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine02",
    "peerHostname": "leaf01", "vrf": "default", "asn": 65000, "peerAsn": 65101, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine02", "peerHostname":
    "exit02", "vrf": "default", "asn": 65000, "peerAsn": 65202, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "spine02", "peerHostname": "exit01",
    "vrf": "default", "asn": 65000, "peerAsn": 65201, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "spine01", "peerHostname": "leaf01", "vrf":
    "default", "asn": 65000, "peerAsn": 65101, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "spine01", "peerHostname": "leaf03", "vrf": "default",
    "asn": 65000, "peerAsn": 65103, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "spine01", "peerHostname": "leaf04", "vrf": "default", "asn": 65000,
    "peerAsn": 65104, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "spine01", "peerHostname": "exit02", "vrf": "default", "asn": 65000, "peerAsn":
    65202, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine01",
    "peerHostname": "exit01", "vrf": "default", "asn": 65000, "peerAsn": 65201, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "spine01", "peerHostname":
    "leaf02", "vrf": "default", "asn": 65000, "peerAsn": 65102, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit01", "peerHostname": "internet",
    "vrf": "internet-vrf", "asn": 65201, "peerAsn": 25253, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit01", "peerHostname": "edge01",
    "vrf": "internet-vrf", "asn": 65201, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit01", "peerHostname": "edge01",
    "vrf": "evpn-vrf", "asn": 65201, "peerAsn": 65530, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "exit01", "peerHostname": "edge01", "vrf":
    "default", "asn": 65201, "peerAsn": 65530, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "exit01", "peerHostname": "spine02", "vrf": "default",
    "asn": 65201, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "exit01", "peerHostname": "spine01", "vrf": "default", "asn": 65201,
    "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "exit02", "peerHostname": "spine01", "vrf": "default", "asn": 65202, "peerAsn":
    65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "exit02",
    "peerHostname": "edge01", "vrf": "default", "asn": 65202, "peerAsn": 65530, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname":
    "edge01", "vrf": "evpn-vrf", "asn": 65202, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname": "edge01",
    "vrf": "internet-vrf", "asn": 65202, "peerAsn": 65530, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname": "spine02",
    "vrf": "default", "asn": 65202, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "exit02", "peerHostname": "internet", "vrf":
    "internet-vrf", "asn": 65202, "peerAsn": 25253, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "leaf03", "peerHostname": "spine02", "vrf":
    "default", "asn": 65103, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "leaf03", "peerHostname": "spine01", "vrf": "default",
    "asn": 65103, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "internet", "peerHostname": "exit01", "vrf": "default", "asn": 25253,
    "peerAsn": 65201, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname":
    "internet", "peerHostname": "exit02", "vrf": "default", "asn": 25253, "peerAsn":
    65202, "bgp": true, "polled": true}, {"namespace": "dual-evpn", "hostname": "leaf01",
    "peerHostname": "spine02", "vrf": "default", "asn": 65101, "peerAsn": 65000, "bgp":
    true, "polled": true}, {"namespace": "dual-evpn", "hostname": "leaf01", "peerHostname":
    "spine01", "vrf": "default", "asn": 65101, "peerAsn": 65000, "bgp": true, "polled":
    true}, {"namespace": "dual-evpn", "hostname": "leaf04", "peerHostname": "spine01",
    "vrf": "default", "asn": 65104, "peerAsn": 65000, "bgp": true, "polled": true},
    {"namespace": "dual-evpn", "hostname": "leaf04", "peerHostname": "spine02", "vrf":
    "default", "asn": 65104, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace":
    "dual-evpn", "hostname": "leaf02", "peerHostname": "spine01", "vrf": "default",
    "asn": 65102, "peerAsn": 65000, "bgp": true, "polled": true}, {"namespace": "dual-evpn",
    "hostname": "leaf02", "peerHostname": "spine02", "vrf": "default", "asn": 65102,
    "peerAsn": 65000, "bgp": true, "polled": true}]'
