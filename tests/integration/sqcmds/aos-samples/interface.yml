description: 'Testing verbs for interface: show summarize unique'
tests:
- command: interface show --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: interface show aos
  output: '[{"namespace": "aos", "hostname": "net-lab-swi-001-1", "ifname": "0/1",
    "state": "up", "adminState": "up", "type": "aggregate", "mtu": 0, "vlan": 2099,
    "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp": 1671742336600},
    {"namespace": "aos", "hostname": "net-lab-swi-001-1", "ifname": "loopback", "state":
    "down", "adminState": "up", "type": "loopback", "mtu": 0, "vlan": 0, "master":
    "", "ipAddressList": ["127.0.0.1"], "ip6AddressList": [], "timestamp": 1671742336600},
    {"namespace": "aos", "hostname": "net-lab-swi-001-1", "ifname": "vlan2099ip",
    "state": "up", "adminState": "up", "type": "vlan", "mtu": 0, "vlan": 2099, "master":
    "", "ipAddressList": ["10.20.99.11"], "ip6AddressList": [], "timestamp": 1671742336600},
    {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname": "1/1/17", "state":
    "down", "adminState": "up", "type": "ethernet", "mtu": 9216, "vlan": 1, "master":
    "", "ipAddressList": [], "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace":
    "aos", "hostname": "net-lab-swi-dist", "ifname": "1/1/18", "state": "down", "adminState":
    "up", "type": "ethernet", "mtu": 9216, "vlan": 1, "master": "", "ipAddressList":
    [], "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace": "aos", "hostname":
    "net-lab-swi-dist", "ifname": "1/1/19", "state": "down", "adminState": "up", "type":
    "ethernet", "mtu": 9216, "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList":
    [], "timestamp": 1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist",
    "ifname": "1/1/20", "state": "down", "adminState": "up", "type": "ethernet", "mtu":
    9216, "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/21", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/22", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/23", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/24", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/25", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/26", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/27", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/28", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/29", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/30", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/31", "state": "up", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 0, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/32", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 0, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/16", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/15", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/13", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/33", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 0, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "0/1", "state": "up", "adminState": "up", "type": "aggregate", "mtu": 0, "vlan":
    2099, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp": 1671742337220},
    {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname": "0/19", "state":
    "up", "adminState": "up", "type": "aggregate", "mtu": 0, "vlan": 1, "master":
    "", "ipAddressList": [], "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace":
    "aos", "hostname": "net-lab-swi-dist", "ifname": "emp-cmma-chas1", "state": "down",
    "adminState": "down", "type": "emp", "mtu": 0, "vlan": 0, "master": "", "ipAddressList":
    ["0.0.0.0"], "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace":
    "aos", "hostname": "net-lab-swi-dist", "ifname": "loopback", "state": "down",
    "adminState": "up", "type": "loopback", "mtu": 0, "vlan": 0, "master": "", "ipAddressList":
    ["127.0.0.1"], "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace":
    "aos", "hostname": "net-lab-swi-dist", "ifname": "vlan2099", "state": "up", "adminState":
    "up", "type": "vlan", "mtu": 0, "vlan": 2099, "master": "", "ipAddressList": ["10.20.99.10"],
    "ip6AddressList": [], "timestamp": 1671742337220}, {"namespace": "aos", "hostname":
    "net-lab-swi-dist", "ifname": "1/1/1", "state": "up", "adminState": "up", "type":
    "ethernet", "mtu": 9216, "vlan": 0, "master": "", "ipAddressList": [], "ip6AddressList":
    [], "timestamp": 1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist",
    "ifname": "1/1/2", "state": "down", "adminState": "up", "type": "ethernet", "mtu":
    9216, "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/3", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/4", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/5", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/6", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/7", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/8", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/9", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/10", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/11", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/12", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/14", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 1, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "ifname":
    "1/1/34", "state": "down", "adminState": "up", "type": "ethernet", "mtu": 9216,
    "vlan": 0, "master": "", "ipAddressList": [], "ip6AddressList": [], "timestamp":
    1671742337220}]'
- command: interface summarize --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: interface show aos
  output: '{"aos": {"deviceCnt": 2, "interfaceCnt": 42, "devicesWithL2Cnt": 0, "devicesWithVxlanCnt":
    0, "ifDownCnt": 34, "ifAdminDownCnt": 1, "ifWithMultipleIPCnt": 0, "uniqueMTUCnt":
    {"9216": 34, "0": 8}, "uniqueIfTypesCnt": 5, "speedCnt": {"0": 40, "10000": 1,
    "1000": 1}, "ifChangesStat": [0, 1, 0.0], "ifPerDeviceStat": [3, 39, 21.0], "uniqueIPv4AddrCnt":
    4, "uniqueIPv6AddrCnt": 0}}'
- command: interface unique --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: interface show aos
  output: '[{"type": "aggregate"}, {"type": "emp"}, {"type": "ethernet"}, {"type":
    "loopback"}, {"type": "vlan"}]'
