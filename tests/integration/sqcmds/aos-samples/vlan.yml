description: 'Testing verbs for vlan: show summarize unique'
tests:
- command: vlan show --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: vlan show aos
  output: '[{"namespace": "aos", "hostname": "net-lab-swi-001-1", "vlanName": "VLAN
    1", "state": "suspended", "interfaces": ["1/1/1", "1/1/2", "1/1/3", "1/1/4", "1/1/5",
    "1/1/6", "1/1/7", "1/1/8", "1/1/9", "1/1/10", "1/1/11", "1/1/12", "1/1/13", "1/1/14",
    "1/1/15", "1/1/16", "1/1/17", "1/1/18", "1/1/19", "1/1/20", "1/1/21", "1/1/22",
    "1/1/23", "1/1/24", "1/1/26", "1/1/27", "1/1/28"], "vlan": 1, "timestamp": 1671742336630},
    {"namespace": "aos", "hostname": "net-lab-swi-001-1", "vlanName": "LAB-zone-mgmt",
    "state": "active", "interfaces": ["0/1"], "vlan": 2099, "timestamp": 1671742336630},
    {"namespace": "aos", "hostname": "net-lab-swi-001-1", "vlanName": "VCM IPC", "state":
    "suspended", "interfaces": [], "vlan": 4094, "timestamp": 1671742336630}, {"namespace":
    "aos", "hostname": "net-lab-swi-dist", "vlanName": "VLAN 1", "state": "active",
    "interfaces": ["1/1/2", "1/1/3", "1/1/4", "1/1/5", "1/1/6", "1/1/7", "1/1/8",
    "1/1/9", "1/1/10", "1/1/11", "1/1/12", "1/1/13", "1/1/14", "1/1/15", "1/1/16",
    "1/1/17", "1/1/18", "1/1/19", "1/1/20", "1/1/21", "1/1/22", "1/1/23", "1/1/24",
    "1/1/25", "1/1/26", "1/1/27", "1/1/28", "1/1/29", "1/1/30", "0/19"], "vlan": 1,
    "timestamp": 1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist",
    "vlanName": "test", "state": "suspended", "interfaces": [], "vlan": 10, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2000", "state": "active", "interfaces": ["0/1"], "vlan": 2000, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2001", "state": "active", "interfaces": ["0/1"], "vlan": 2001, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2002", "state": "active", "interfaces": ["0/1"], "vlan": 2002, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2003", "state": "active", "interfaces": ["0/1"], "vlan": 2003, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2004", "state": "active", "interfaces": ["0/1"], "vlan": 2004, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2008", "state": "active", "interfaces": ["0/1"], "vlan": 2008, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2012", "state": "active", "interfaces": ["0/1"], "vlan": 2012, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "VLAN 2016", "state": "active", "interfaces": ["0/1"], "vlan": 2016, "timestamp":
    1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlanName":
    "LAB-zone-mgmt", "state": "active", "interfaces": ["0/1", "0/19"], "vlan": 2099,
    "timestamp": 1671742337226}, {"namespace": "aos", "hostname": "net-lab-swi-dist",
    "vlanName": "VCM IPC", "state": "suspended", "interfaces": [], "vlan": 4094, "timestamp":
    1671742337226}]'
- command: vlan summarize --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: vlan show aos
  output: '{"aos": {"deviceCnt": 2, "uniqueVlanCnt": 12, "activeVlanCnt": 10, "suspendedVlanCnt":
    0, "vlanPerDeviceStat": [3, 12, 7.5], "ifPerVlanStat": [1, 2, 1.0]}}'
- command: vlan unique --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: vlan show aos
  output: '[{"vlan": 1}, {"vlan": 10}, {"vlan": 2000}, {"vlan": 2001}, {"vlan": 2002},
    {"vlan": 2003}, {"vlan": 2004}, {"vlan": 2008}, {"vlan": 2012}, {"vlan": 2016},
    {"vlan": 2099}, {"vlan": 4094}]'
