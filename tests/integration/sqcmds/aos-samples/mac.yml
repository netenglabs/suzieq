description: 'Testing verbs for mac: show summarize unique'
tests:
- command: mac show --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: mac show aos
  output: '[{"namespace": "aos", "hostname": "net-lab-swi-001-1", "vlan": 2099, "macaddr":
    "00:09:0f:09:01:26", "oif": "0/1", "remoteVtepIp": "", "bd": "VLAN", "flags":
    "bridging", "timestamp": 1671742337838}, {"namespace": "aos", "hostname": "net-lab-swi-001-1",
    "vlan": 2099, "macaddr": "94:24:e1:37:e6:9f", "oif": "0/1", "remoteVtepIp": "",
    "bd": "VLAN", "flags": "bridging", "timestamp": 1671742337838}, {"namespace":
    "aos", "hostname": "net-lab-swi-001-1", "vlan": 2099, "macaddr": "94:24:e1:37:e6:a6",
    "oif": "0/1", "remoteVtepIp": "", "bd": "VLAN", "flags": "bridging", "timestamp":
    1671742337838}, {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlan": 1,
    "macaddr": "94:24:e1:83:4f:6b", "oif": "0/19", "remoteVtepIp": "", "bd": "VLAN",
    "flags": "bridging", "timestamp": 1671742339738}, {"namespace": "aos", "hostname":
    "net-lab-swi-dist", "vlan": 2099, "macaddr": "94:24:e1:35:6c:27", "oif": "0/1",
    "remoteVtepIp": "", "bd": "VLAN", "flags": "bridging", "timestamp": 1671742339738},
    {"namespace": "aos", "hostname": "net-lab-swi-dist", "vlan": 2099, "macaddr":
    "94:24:e1:35:6c:46", "oif": "0/1", "remoteVtepIp": "", "bd": "VLAN", "flags":
    "bridging", "timestamp": 1671742339738}, {"namespace": "aos", "hostname": "net-lab-swi-dist",
    "vlan": 2099, "macaddr": "00:09:0f:09:01:26", "oif": "0/19", "remoteVtepIp": "",
    "bd": "VLAN", "flags": "bridging", "timestamp": 1671742339738}]'
- command: mac summarize --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: mac show eos
  output: '{"aos": {"deviceCnt": 2, "totalMacsinNSCnt": 7, "uniqueMacCnt": 6, "uniqueVlanperHostStat":
    [1, 2, 1.5]}}'
- command: mac unique --format=json --namespace=aos
  data-directory: tests/data/parquet/
  marks: mac show eos
  output: '[{"macaddr": "00:09:0f:09:01:26"}, {"macaddr": "94:24:e1:35:6c:27"}, {"macaddr":
    "94:24:e1:35:6c:46"}, {"macaddr": "94:24:e1:37:e6:9f"}, {"macaddr": "94:24:e1:37:e6:a6"},
    {"macaddr": "94:24:e1:83:4f:6b"}]'
