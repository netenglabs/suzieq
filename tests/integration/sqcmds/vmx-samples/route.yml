description: 'Testing verbs for route: show summarize unique lpm'
tests:
- command: route show --prefixlen=64 --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[]'
- command: route show --prefixlen=">24" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[{"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix":
    "172.26.145.151/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009086664},
    {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009086664}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix": "172.26.145.154/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.0/29",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.3/32",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.0/29",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.3/32",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "172.16.21.254/32",
    "nexthopIps": [], "oifs": ["irb.201"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "172.16.11.254/32",
    "nexthopIps": [], "oifs": ["irb.101"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix": "172.26.145.153/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "172.16.20.254/32",
    "nexthopIps": [], "oifs": ["irb.200"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.2/32",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "172.16.10.254/32",
    "nexthopIps": [], "oifs": ["irb.100"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.2/32",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.0/29",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.0/29",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "172.26.145.152/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "10.0.10.0/29",
    "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "10.0.20.0/29", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "10.0.100.0/32", "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "172.26.145.155/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "10.0.100.0/31", "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087742}]'
- command: route show --prefixlen="<=24" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[{"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix":
    "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009086664}, {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009086664}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "0.0.0.0/0", "nexthopIps": ["10.0.10.1"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "172.16.10.0/24", "nexthopIps": ["10.0.10.2"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "172.16.11.0/24", "nexthopIps": [], "oifs": ["irb.101"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "0.0.0.0/0", "nexthopIps": ["10.0.20.1"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.20.0/24", "nexthopIps": ["10.0.20.2"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.21.0/24", "nexthopIps": [], "oifs": ["irb.201"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.21.0/24", "nexthopIps": ["10.0.20.3"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.20.0/24", "nexthopIps": [], "oifs": ["irb.200"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "0.0.0.0/0", "nexthopIps": ["10.0.20.1"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "172.16.11.0/24", "nexthopIps": ["10.0.10.3"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "172.16.10.0/24", "nexthopIps": [], "oifs": ["irb.100"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "0.0.0.0/0", "nexthopIps": ["10.0.10.1"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087291}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087291}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "172.16.11.0/24", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"],
    "protocol": "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward",
    "timestamp": 1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01",
    "vrf": "default", "prefix": "172.16.10.0/24", "nexthopIps": ["10.0.100.1"], "oifs":
    ["ge-0/0/2.0"], "protocol": "bgp", "source": "", "preference": 170, "ipvers":
    4, "action": "forward", "timestamp": 1631009087742}, {"namespace": "vmx", "hostname":
    "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.16.20.0/24", "nexthopIps":
    ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source": "", "preference":
    170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.16.21.0/24",
    "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}]'
- command: route show --prefixlen=">24" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[{"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix":
    "172.26.145.151/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009086664},
    {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009086664}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix": "172.26.145.154/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.0/29",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.3/32",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.0/29",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.3/32",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "172.16.21.254/32",
    "nexthopIps": [], "oifs": ["irb.201"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "172.16.11.254/32",
    "nexthopIps": [], "oifs": ["irb.101"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix": "172.26.145.153/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "172.16.20.254/32",
    "nexthopIps": [], "oifs": ["irb.200"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.2/32",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "172.16.10.254/32",
    "nexthopIps": [], "oifs": ["irb.100"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.2/32",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.0/29",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix": "10.0.20.0/29",
    "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230}, {"namespace":
    "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "172.26.145.152/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "10.0.10.0/29",
    "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "10.0.20.0/29", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "10.0.100.0/32", "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "172.26.145.155/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "10.0.100.0/31", "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087742}]'
- command: route show --prefixlen=">=24" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[{"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix":
    "172.26.145.151/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009086664},
    {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009086664}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix": "172.26.145.154/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.0/29",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "10.0.10.3/32",
    "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087173}, {"namespace":
    "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix": "172.16.10.0/24",
    "nexthopIps": ["10.0.10.2"], "oifs": ["ae1.10"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.11.0/24", "nexthopIps": [], "oifs": ["irb.101"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.0/29", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.3/32", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "172.16.20.0/24", "nexthopIps": ["10.0.20.2"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.21.0/24", "nexthopIps": [], "oifs": ["irb.201"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.21.254/32", "nexthopIps": [], "oifs": ["irb.201"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.11.254/32", "nexthopIps": [], "oifs": ["irb.101"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix":
    "172.26.145.153/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "172.16.21.0/24", "nexthopIps": ["10.0.20.3"], "oifs": ["ae1.20"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.20.254/32", "nexthopIps": [], "oifs": ["irb.200"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "172.16.20.0/24", "nexthopIps": [], "oifs": ["irb.200"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.2/32", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.10.254/32", "nexthopIps": [], "oifs": ["irb.100"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.11.0/24", "nexthopIps": ["10.0.10.3"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "172.16.10.0/24", "nexthopIps": [], "oifs": ["irb.100"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "10.0.10.2/32", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "10.0.10.0/29", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source":
    "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "10.0.20.0/29", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct", "source":
    "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "172.26.145.152/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default", "prefix": "ff02::2/128",
    "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "", "preference":
    0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087291}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "10.0.10.0/29",
    "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "10.0.20.0/29", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "172.16.11.0/24", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"],
    "protocol": "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward",
    "timestamp": 1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01",
    "vrf": "default", "prefix": "10.0.100.0/32", "nexthopIps": [], "oifs": ["ge-0/0/2.0"],
    "protocol": "local", "source": "", "preference": 0, "ipvers": 4, "action": "local",
    "timestamp": 1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01",
    "vrf": "default", "prefix": "172.16.10.0/24", "nexthopIps": ["10.0.100.1"], "oifs":
    ["ge-0/0/2.0"], "protocol": "bgp", "source": "", "preference": 170, "ipvers":
    4, "action": "forward", "timestamp": 1631009087742}, {"namespace": "vmx", "hostname":
    "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.16.20.0/24", "nexthopIps":
    ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source": "", "preference":
    170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.16.21.0/24",
    "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"], "protocol": "bgp", "source":
    "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "172.26.145.155/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "10.0.100.0/31", "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087742}]'
- command: route show --prefixlen="!24" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route show filter prefixlen vmx
  output: '[{"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default", "prefix":
    "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009086664}, {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009086664}, {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default",
    "prefix": "172.26.145.151/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009086664}, {"namespace": "vmx", "hostname": "CRP-ACC-SW01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009086664},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix":
    "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default",
    "prefix": "172.26.145.154/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "0.0.0.0/0", "nexthopIps": ["10.0.10.1"], "oifs": ["ae1.10"], "protocol":
    "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "10.0.10.0/29", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "10.0.10.3/32", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "0.0.0.0/0", "nexthopIps": ["10.0.20.1"], "oifs": ["ae1.20"], "protocol": "bgp",
    "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.0/29", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087173}, {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.3/32", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "172.16.21.254/32", "nexthopIps": [], "oifs": ["irb.201"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "default", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.11.254/32", "nexthopIps": [], "oifs": ["irb.101"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR4CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087173},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix":
    "172.26.145.153/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix":
    "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "172.16.20.254/32", "nexthopIps": [], "oifs": ["irb.200"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "10.0.20.2/32", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "local", "source":
    "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "172.16.10.254/32", "nexthopIps": [], "oifs": ["irb.100"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B", "prefix":
    "0.0.0.0/0", "nexthopIps": ["10.0.20.1"], "oifs": ["ae1.20"], "protocol": "bgp",
    "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A",
    "prefix": "10.0.10.2/32", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "local",
    "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "10.0.10.0/29", "nexthopIps": [], "oifs": ["ae1.10"], "protocol": "direct", "source":
    "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp": 1631009087230},
    {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-A", "prefix":
    "0.0.0.0/0", "nexthopIps": ["10.0.10.1"], "oifs": ["ae1.10"], "protocol": "bgp",
    "source": "", "preference": 170, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "TOR1CRP-DGW-RT01", "vrf": "VRF-B",
    "prefix": "10.0.20.0/29", "nexthopIps": [], "oifs": ["ae1.20"], "protocol": "direct",
    "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087230}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087291}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "172.26.144.0/22", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "direct", "source": "", "preference": 0, "ipvers": 4, "action": "forward", "timestamp":
    1631009087291}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "172.26.145.152/32", "nexthopIps": [], "oifs": ["fxp0.0"], "protocol":
    "local", "source": "", "preference": 0, "ipvers": 4, "action": "local", "timestamp":
    1631009087291}, {"namespace": "vmx", "hostname": "CRP-DIS-SW01", "vrf": "default",
    "prefix": "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source":
    "", "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087291},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "0.0.0.0/0", "nexthopIps": ["172.26.147.254"], "oifs": ["fxp0.0"], "protocol":
    "static", "source": "", "preference": 5, "ipvers": 4, "action": "forward", "timestamp":
    1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default",
    "prefix": "10.0.10.0/29", "nexthopIps": ["10.0.100.1"], "oifs": ["ge-0/0/2.0"],
    "protocol": "bgp", "source": "", "preference": 170, "ipvers": 4, "action": "forward",
    "timestamp": 1631009087742}, {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01",
    "vrf": "default", "prefix": "10.0.20.0/29", "nexthopIps": ["10.0.100.1"], "oifs":
    ["ge-0/0/2.0"], "protocol": "bgp", "source": "", "preference": 170, "ipvers":
    4, "action": "forward", "timestamp": 1631009087742}, {"namespace": "vmx", "hostname":
    "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "10.0.100.0/32", "nexthopIps":
    [], "oifs": ["ge-0/0/2.0"], "protocol": "local", "source": "", "preference": 0,
    "ipvers": 4, "action": "local", "timestamp": 1631009087742}, {"namespace": "vmx",
    "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.26.144.0/22",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "direct", "source": "", "preference":
    0, "ipvers": 4, "action": "forward", "timestamp": 1631009087742}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "172.26.145.155/32",
    "nexthopIps": [], "oifs": ["fxp0.0"], "protocol": "local", "source": "", "preference":
    0, "ipvers": 4, "action": "local", "timestamp": 1631009087742}, {"namespace":
    "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix": "10.0.100.0/31",
    "nexthopIps": [], "oifs": ["ge-0/0/2.0"], "protocol": "direct", "source": "",
    "preference": 0, "ipvers": 4, "action": "forward", "timestamp": 1631009087742},
    {"namespace": "vmx", "hostname": "TOR1BBN-PE-RT01", "vrf": "default", "prefix":
    "ff02::2/128", "nexthopIps": [], "oifs": [], "protocol": "inet6", "source": "",
    "preference": 0, "ipvers": 6, "action": "multirecv", "timestamp": 1631009087742}]'
- command: route show --prefixlen=">128" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  error:
    error: '[{"error": "Invalid prefixlen: value should be between 0 and 128"}]'
  marks: route show filter prefixlen vmx
- command: route show --prefixlen="<0" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  error:
    error: '[{"error": "Invalid prefixlen: value should be between 0 and 128"}]'
  marks: route show filter prefixlen vmx
- command: route show --prefixlen=">24 and !32" --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  error:
    error: '[{"error": "Invalid prefixlen query: it must be of the form ''[<|<=|>=|>|!]
      length'' (i.e. ''>= 24'')"}]'
  marks: route show filter prefixlen vmx
- command: route lpm --address='172.16.1.11' --columns='hostname nexthopIps' --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route lpm vmx
  output: '[{"hostname": "CRP-ACC-SW01", "nexthopIps": ["172.26.147.254"]}, {"hostname":
    "TOR4CRP-DGW-RT01", "nexthopIps": ["10.0.10.1"]}, {"hostname": "TOR4CRP-DGW-RT01",
    "nexthopIps": ["10.0.20.1"]}, {"hostname": "TOR4CRP-DGW-RT01", "nexthopIps": ["172.26.147.254"]},
    {"hostname": "TOR1CRP-DGW-RT01", "nexthopIps": ["172.26.147.254"]}, {"hostname":
    "TOR1CRP-DGW-RT01", "nexthopIps": ["10.0.20.1"]}, {"hostname": "TOR1CRP-DGW-RT01",
    "nexthopIps": ["10.0.10.1"]}, {"hostname": "CRP-DIS-SW01", "nexthopIps": ["172.26.147.254"]},
    {"hostname": "TOR1BBN-PE-RT01", "nexthopIps": ["172.26.147.254"]}]'
- command: route unique --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route unique vmx
  output: '[{"prefix": "0.0.0.0/0"}, {"prefix": "10.0.10.0/29"}, {"prefix": "10.0.10.2/32"},
    {"prefix": "10.0.10.3/32"}, {"prefix": "10.0.100.0/31"}, {"prefix": "10.0.100.0/32"},
    {"prefix": "10.0.20.0/29"}, {"prefix": "10.0.20.2/32"}, {"prefix": "10.0.20.3/32"},
    {"prefix": "172.16.10.0/24"}, {"prefix": "172.16.10.254/32"}, {"prefix": "172.16.11.0/24"},
    {"prefix": "172.16.11.254/32"}, {"prefix": "172.16.20.0/24"}, {"prefix": "172.16.20.254/32"},
    {"prefix": "172.16.21.0/24"}, {"prefix": "172.16.21.254/32"}, {"prefix": "172.26.144.0/22"},
    {"prefix": "172.26.145.151/32"}, {"prefix": "172.26.145.152/32"}, {"prefix": "172.26.145.153/32"},
    {"prefix": "172.26.145.154/32"}, {"prefix": "172.26.145.155/32"}, {"prefix": "ff02::2/128"}]'
- command: route unique --count=True --format=json --namespace=vmx
  data-directory: tests/data/parquet/
  marks: route unique vmx
  output: '[{"prefix": "10.0.10.2/32", "numRows": 1}, {"prefix": "10.0.10.3/32", "numRows":
    1}, {"prefix": "10.0.100.0/31", "numRows": 1}, {"prefix": "10.0.100.0/32", "numRows":
    1}, {"prefix": "10.0.20.2/32", "numRows": 1}, {"prefix": "10.0.20.3/32", "numRows":
    1}, {"prefix": "172.16.10.254/32", "numRows": 1}, {"prefix": "172.16.11.254/32",
    "numRows": 1}, {"prefix": "172.16.20.254/32", "numRows": 1}, {"prefix": "172.16.21.254/32",
    "numRows": 1}, {"prefix": "172.26.145.151/32", "numRows": 1}, {"prefix": "172.26.145.152/32",
    "numRows": 1}, {"prefix": "172.26.145.153/32", "numRows": 1}, {"prefix": "172.26.145.154/32",
    "numRows": 1}, {"prefix": "172.26.145.155/32", "numRows": 1}, {"prefix": "10.0.10.0/29",
    "numRows": 3}, {"prefix": "10.0.20.0/29", "numRows": 3}, {"prefix": "172.16.10.0/24",
    "numRows": 3}, {"prefix": "172.16.11.0/24", "numRows": 3}, {"prefix": "172.16.20.0/24",
    "numRows": 3}, {"prefix": "172.16.21.0/24", "numRows": 3}, {"prefix": "172.26.144.0/22",
    "numRows": 5}, {"prefix": "0.0.0.0/0", "numRows": 9}, {"prefix": "ff02::2/128",
    "numRows": 9}]'
